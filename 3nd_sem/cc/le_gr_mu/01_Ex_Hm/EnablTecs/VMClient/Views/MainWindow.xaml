<Window x:Class="VirtualMachineClient.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converter="clr-namespace:VirtualMachineClient.Converter"
        DataContext="{Binding Source={StaticResource Locator}, Path=Main}"
        Title="Virtual Machine Manager" Height="600.183" Width="935.635" Icon="../Assets/VirtualBox.png">
    <Window.Resources>
        <converter:ListToStringConverter x:Key="ListToStringConverter"/>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </Window.Resources>
    <Grid>
        <Menu Height="20" VerticalAlignment="Top" Background="#FFA0A3B4">
            <MenuItem Header="File">
                <MenuItem Header="Upload New Virtual Machine/Appliance" Command="{Binding UploadNewVm}"></MenuItem>
                <Separator></Separator>
                <MenuItem Header="Exit" Command="{Binding ExitCommand}"></MenuItem>
            </MenuItem>
            <MenuItem Header="Help"></MenuItem>
        </Menu>
        <TextBox x:Name="OperatingSystemSearch" Text="{Binding OperatingSystemSearchText, UpdateSourceTrigger=PropertyChanged}" Margin="10,57,0,0" Height="30" Width="440" TextWrapping="Wrap" VerticalAlignment="Top" HorizontalAlignment="Left" VerticalContentAlignment="Center"/>
        <TextBlock IsHitTestVisible="False" Text="Operating System" Height="30" TextAlignment="Left" Padding="5, 5, 5, 5"  Foreground="LightGray"  Margin="10,58,480.035,0" VerticalAlignment="Top">
            <TextBlock.Style>
                <Style TargetType="{x:Type TextBlock}">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Text, ElementName=OperatingSystemSearch}" Value="">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding ElementName=OperatingSystemSearch, Path=IsFocused}" Value="True">
                            <Setter Property="Visibility" Value="Collapsed"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBlock.Style>
        </TextBlock>
        <TextBox x:Name="TypeSearch" Text="{Binding TypeSearchText, UpdateSourceTrigger=PropertyChanged}" Margin="460,57,10.035,0" Height="30" TextWrapping="Wrap" VerticalAlignment="Top" VerticalContentAlignment="Center"/>
        <TextBlock IsHitTestVisible="False" Text="Type" Height="30" TextAlignment="Left" Padding="5, 5, 5, 5"  Foreground="LightGray"  Margin="460,58,10.035,0" VerticalAlignment="Top">
            <TextBlock.Style>
                <Style TargetType="{x:Type TextBlock}">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Text, ElementName=TypeSearch}" Value="">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding ElementName=TypeSearch, Path=IsFocused}" Value="True">
                            <Setter Property="Visibility" Value="Collapsed"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBlock.Style>
        </TextBlock>
        <ListBox Margin="10,90,0,25.116" SelectionMode="Single" SelectedIndex="{Binding SelectedVmInfoIndex, UpdateSourceTrigger=PropertyChanged}" ItemsSource="{Binding InstalledVirtualMachines, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" SelectedItem="{Binding SelectedVmInfo, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Left" Width="180">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <Button Background="{x:Null}" BorderBrush="{x:Null}" BorderThickness="0" Command="{Binding Source={StaticResource Locator}, Path=Main.PlayPressedCommand}">
                        <Image Width="20" Height="20" Margin="0, 0,10 0"  Source="/VirtualMachineClient;component/Assets/play.png">
                            <Image.Style>
                                <Style TargetType="{x:Type Image}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Path=Status}" Value="Stopped">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Image.Style>
                        </Image>
                        </Button>
                        <Button Background="{x:Null}" BorderBrush="{x:Null}" BorderThickness="0" Command="{Binding Source={StaticResource Locator}, Path=Main.StopPressedCommand}">
                            <Image Width="20" Height="20" Margin="0, 0,10 0"  Source="/VirtualMachineClient;component/Assets/stop.png">
                                <Image.Style>
                                    <Style TargetType="{x:Type Image}">
                                        <Setter Property="Visibility" Value="Collapsed"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Path=Status}" Value="Started">
                                                <Setter Property="Visibility" Value="Visible"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Image.Style>
                            </Image>
                        </Button>
                        <Image Height="20" Width="20" Source="/VirtualMachineClient;component/Assets/windows.png">
                            <Image.Style>
                                <Style TargetType="{x:Type Image}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Path=OperatingSystemType}" Value="Windows">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Image.Style>
                        </Image>
                        <Image Height="20" Width="20" Source="/VirtualMachineClient;component/Assets/apple.png">
                            <Image.Style>
                                <Style TargetType="{x:Type Image}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Path=OperatingSystemType}" Value="Mac">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Image.Style>
                        </Image>
                        <Image Height="20" Width="20" Source="/VirtualMachineClient;component/Assets/linux.png">
                            <Image.Style>
                                <Style TargetType="{x:Type Image}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Path=OperatingSystemType}" Value="Linux">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Image.Style>
                        </Image>
                        <StackPanel Orientation="Vertical" Margin="10">
                            <TextBlock Text="{Binding Name}" FontWeight="SemiBold" FontSize="12"></TextBlock>
                            <TextBlock Text="{Binding Type}" FontSize="10"></TextBlock>
                            <TextBlock Text="{Binding Status}" FontSize="10"></TextBlock>
                        </StackPanel>
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <Label Content="Virtual Machines" Margin="10,25,9.861,0" VerticalAlignment="Top" BorderBrush="Black" BorderThickness="1" HorizontalContentAlignment="Center" Height="27"/>
        <GroupBox Header="Details" Margin="195,92,11.035,25.116">
            <Grid>
                <StackPanel Orientation="Horizontal" Margin="0,0,-0.139,136.277">
                    <StackPanel Orientation="Vertical" Margin="0,0,0,0">
                        <Label Content="Description:" FontWeight="Bold"></Label>
                        <Label Content="Operating System:" FontWeight="Bold"></Label>
                        <Label Content="Operating System Type:" FontWeight="Bold"></Label>
                        <Label Content="Operating System Version:" FontWeight="Bold"></Label>
                        <Label Content="Size:" FontWeight="Bold"></Label>
                        <Label Content="Recommended CPU:" FontWeight="Bold"></Label>
                        <Label Content="Recommended RAM:" FontWeight="Bold"></Label>
                        <Label Content="ApplicationType:" FontWeight="Bold"></Label>
                        <Label Content="Supported Visualization Platform:" FontWeight="Bold"></Label>
                        <Label Content="Supported Programming Languages" FontWeight="Bold"></Label>
                        <Label Content="Software:" FontWeight="Bold"></Label>
                    </StackPanel>
                    <StackPanel Orientation="Vertical" Margin="0,0,0,0" Width="488">
                        <StackPanel Orientation="Horizontal">
                            <TextBox Text="{Binding SelectedVmInfo.Description, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                            <Button Content="Save" Height="20" Width="100" HorizontalAlignment="Left" Margin="5,0,0,0" Command="{Binding SaveDescriptionCommand}" Visibility="{Binding SelectedVmInfo.DescriptionChanged, Converter={StaticResource BooleanToVisibilityConverter}}"></Button>
                        </StackPanel>
                        <Label Content="{Binding SelectedVmInfo.OperatingSystem}"></Label>
                        <Label Content="{Binding SelectedVmInfo.OperatingSystemType}"></Label>
                        <Label Content="{Binding SelectedVmInfo.OperatingSystemVersion}"></Label>
                        <Label Content="{Binding SelectedVmInfo.Size}"></Label>
                        <Label Content="{Binding SelectedVmInfo.RecommendedCPU}"></Label>
                        <Label Content="{Binding SelectedVmInfo.RecommendedRAM}"></Label>
                        <Label Content="{Binding SelectedVmInfo.ApplicationType}"></Label>
                        <Label Content="{Binding SelectedVmInfo.SupportedVirtualizationPlatform}"></Label>
                        <Label Content="{Binding SelectedVmInfo.SupportedProgramingLanguages, Converter={StaticResource ListToStringConverter}}"></Label>
                        <Label Content="{Binding SelectedVmInfo.Software, Converter={StaticResource ListToStringConverter}}"></Label>
                    </StackPanel>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0, 290, 0, 0">
                    <StackPanel Orientation="Vertical">
                        <Label Content="Rating: "></Label>
                    </StackPanel>
                    <Grid Margin="0,0,0,-0.052" Width="659">
                        <StackPanel Orientation="Horizontal" Height="25" VerticalAlignment="Top" Margin="0,0,29,0">
                            <ComboBox SelectedIndex="{Binding SelectedVmInfo.RatingIndex, UpdateSourceTrigger=PropertyChanged}" Height="23" VerticalAlignment="Top" Width="150">
                                <ComboBoxItem>
                                    <Image Height="20" Source="/VirtualMachineClient;component/Assets/0_stars.png"></Image>
                                </ComboBoxItem>
                                <ComboBoxItem>
                                    <Image Height="20" Source="/VirtualMachineClient;component/Assets/1_star.png"></Image>
                                </ComboBoxItem>
                                <ComboBoxItem>
                                    <Image Height="20" Source="/VirtualMachineClient;component/Assets/2_stars.png"></Image>
                                </ComboBoxItem>
                                <ComboBoxItem>
                                    <Image Height="20" Source="/VirtualMachineClient;component/Assets/3_stars.png"></Image>
                                </ComboBoxItem>
                                <ComboBoxItem>
                                    <Image Height="20" Source="/VirtualMachineClient;component/Assets/4_stars.png"></Image>
                                </ComboBoxItem>
                                <ComboBoxItem>
                                    <Image Height="20" Source="/VirtualMachineClient;component/Assets/5_stars.png"></Image>
                                </ComboBoxItem>
                            </ComboBox>
                            <Button Content="Save" Height="20" Width="100" HorizontalAlignment="Left" Margin="5,0,0,0" Command="{Binding SaveRatingCommand}" Visibility="{Binding SelectedVmInfo.RatingAndDescriptionChanged, Converter={StaticResource BooleanToVisibilityConverter}}"></Button>
                        </StackPanel>
                        <TextBox Text="{Binding SelectedVmInfo.RatingDescription, UpdateSourceTrigger=PropertyChanged}" Margin="0,38,10,10"/>
                    </Grid>
                </StackPanel>
            </Grid>
        </GroupBox>
        <StatusBar Margin="0,0,0.861,-0.243" Height="20" VerticalAlignment="Bottom">
            <Grid Width="685">
                <TextBlock Text="{Binding ErrorText}" HorizontalAlignment="Stretch"/>
            </Grid>
        </StatusBar>
    </Grid>
</Window>
